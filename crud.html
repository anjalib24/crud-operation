<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body style="color: azure;background-color: rgb(238, 84, 84);">
    <div class="container mt-5">
        <div class="">
            <h1 class="display-5  text-center" ><strong>CRUD Application</strong></h1>
        </div>
        <div class="row justify-content-center" autocomplete="off" >
            <form action="" id="student-form" class="row justify-content-center" autocomplete="off">
               <div class="col-10 col-md-8 mb-3">
               <label for="firstname">first name</label>
                 <input type="text" id="firstname" placeholder="Enter firstname " class="form-control">
          </div>

          <div class="col-10 col-md-8 mb-3">
            <label for="firstname">last name</label>
              <input type="text" placeholder="Enter lastname"id="lastname" class="form-control">
       </div>  

       <div class="col-10 col-md-8 mb-3">
        <label for="Rollno">Roll no.</label>
          <input type="text" placeholder="Enter Roll no."id="rollno" class="form-control">
          </div> 

          <div class="col-10 col-md-8">
            <input type="submit" class="btn btn-success add-btn" value="submit"  onclick="clearFields()">

          </div>
         </form>

         <div class="col-10 mt-5">
             <table class="table table-striped table-dark">
                <thead>
                    <tr>
                        <th>First name</th>
                        <th>last name</th>
                        <th>Roll no</th>
                        <th>Action</th>
                    </tr>
                </thead>

                <tbody id="student-list">
                   <tr>
                    <td>krishna</td>
                    <td>varma</td>
                    <td>34</td>
                    <td>
                        <a href="#" class="btn btn-warning btn-sm edit " onclick="edit()">Edit</a>
                        <a href="#" class="btn btn-danger btn-sm delete" onclick="del()"  >delete</a>
                    </td>
                   </tr>
                   <tr>
                    <td>krishna</td>
                    <td>varma</td>
                    <td>34</td>
                    <td>
                        <a href="#" class="btn btn-warning btn-sm edit" onclick="edit()">Edit</a>
                        <a href="#" class="btn btn-danger btn-sm delete" onclick="del()">delete</a>
                    </td>
                   </tr>
             

                </tbody>
             </table>

         </div>
        
      
        </div>
    </div>

    <script>

var selectedRow = null;

document.querySelector("#student-list").addEventListener("click", (e) => {
    target = e.target;
    if (target.classList.contains("delete")) {
        target.parentElement.parentElement.remove();
    }
});



document.querySelector("#student-form").addEventListener("submit", (e) => {
    e.preventDefault();
    const firstname = document.querySelector("#firstname").value;
    const lastname = document.querySelector("#lastname").value;
    const rollno = document.querySelector("#rollno").value;

    if (firstname === "" || lastname === "" || rollno === "") {
        alert("Please enter all fields.");
    } else {
        if (selectedRow === null) {
            const list = document.querySelector("#student-list");
            const row = document.createElement("tr");
            row.innerHTML = `
                <td>${firstname}</td>
                <td>${lastname}</td>
                <td>${rollno}</td> 
                <td>
                    <a href="#" class="btn btn-warning btn-sm edit">Edit</a>
                    <a href="#" class="btn btn-danger btn-sm delete">Delete</a>
                </td>`;
            list.appendChild(row);
            // Clear input fields after adding student
            clearfield();
        } else {
            selectedRow.children[0].textContent = firstname;
            selectedRow.children[1].textContent = lastname;
            selectedRow.children[2].textContent = rollno;
            selectedRow = null;
            // clearfield();
        }
            clearfield();
    }
});

function clearfield() {
    document.querySelector("#firstname").value = "";
    document.querySelector("#lastname").value = "";
    document.querySelector("#rollno").value = "";
}

document.querySelector("#student-list").addEventListener("click", (e) => {
    if (e.target.classList.contains("edit")) {
        selectedRow = e.target.parentElement.parentElement;
        document.querySelector("#firstname").value = selectedRow.children[0].textContent;
        document.querySelector("#lastname").value = selectedRow.children[1].textContent;
        document.querySelector("#rollno").value = selectedRow.children[2].textContent;
    }
});
// let a=prompt("pleace enter");

    </script>
</body>
</html>